From 8cd960c531110cc7c19a8b93f2641ef9b79478f3 Mon Sep 17 00:00:00 2001
From: Ayyash <abdul_ayyash@yahoo.com>
Date: Sun, 30 Apr 2023 13:53:15 +0300
Subject: [PATCH] fixed references to bootstrap, did not remove files

---
 assets/global.css     |  1 +
 assets/styles.css     |  2 ++
 assets/styles.rtl.css |  2 ++
 index.html            |  4 ++--
 src/App.svelte        | 13 ++++++++-----
 vite.config.js        |  6 +++++-
 6 files changed, 20 insertions(+), 8 deletions(-)
 create mode 100644 assets/styles.css
 create mode 100644 assets/styles.rtl.css

diff --git a/assets/global.css b/assets/global.css
index 500471c..81f5058 100644
--- a/assets/global.css
+++ b/assets/global.css
@@ -1,3 +1,4 @@
+
 html, body {
 	position: relative;
 	width: 100%;
diff --git a/assets/styles.css b/assets/styles.css
new file mode 100644
index 0000000..c08c86f
--- /dev/null
+++ b/assets/styles.css
@@ -0,0 +1,2 @@
+@import "~bootstrap/bootstrap.min.css";
+@import "~bootstrap-icons/font/bootstrap-icons.css";
diff --git a/assets/styles.rtl.css b/assets/styles.rtl.css
new file mode 100644
index 0000000..db74382
--- /dev/null
+++ b/assets/styles.rtl.css
@@ -0,0 +1,2 @@
+@import "~bootstrap/bootstrap.rtl.min.css";
+@import "~bootstrap-icons/font/bootstrap-icons.css";
diff --git a/index.html b/index.html
index fb6ece5..555ca20 100644
--- a/index.html
+++ b/index.html
@@ -6,9 +6,9 @@
     <meta name="viewport" content="width=device-width,initial-scale=1" />
     <link rel="icon" type="image/png" href="/assets/favicon.png" />
     <title>DMART Frontend</title>
-    <link rel="stylesheet" id="bootstrap" href="/assets/bootstrap.min.css" />
+    <link rel="stylesheet" id="ltr" disabled="true" href="/assets/styles.css" />
+    <link rel="stylesheet" id="rtl" disabled="true" href="/assets/styles.rtl.css" />
     <link rel="stylesheet" href="/assets/global.css" />
-    <link rel="stylesheet" href="/assets/bootstrap-icons.css" />
     <script type="module" src="/src/main.ts"></script>
     <!--ssr:head-->
   </head>
diff --git a/src/App.svelte b/src/App.svelte
index e5f48dc..ebd949c 100644
--- a/src/App.svelte
+++ b/src/App.svelte
@@ -26,13 +26,16 @@
   $: {
     try {
       document.dir = $dir;
+		const rtl = (<HTMLLinkElement>document.querySelector('link#rtl'));
+		const ltr = (<HTMLLinkElement>document.querySelector('link#ltr'));
       if ($dir == "rtl") {
-        document.head.children["bootstrap"].href =
-          "/assets/bootstrap.rtl.min.css";
+			// activate id "rtl", and deactivate ltr
+			rtl.disabled = false;
+			ltr.disabled = true;
+   
       } else {
-        if (document && document.head && document.head.children["bootstrap"])
-          document.head.children["bootstrap"].href =
-            "/assets/bootstrap.min.css";
+			rtl.disabled = true;
+			ltr.disabled = false;
       }
     } catch (error) {
       console.log("Error in App:", error);
diff --git a/vite.config.js b/vite.config.js
index 8adb129..4deba90 100644
--- a/vite.config.js
+++ b/vite.config.js
@@ -4,6 +4,8 @@ import { svelte } from "@sveltejs/vite-plugin-svelte";
 import preprocess from "svelte-preprocess";
 import routify from "@roxi/routify/vite-plugin";
 import { mdsvex } from "mdsvex";
+import path from 'path';
+
 // import path from "path";
 
 const production = process.env.NODE_ENV === "production";
@@ -13,7 +15,9 @@ export default defineConfig({
   resolve: {
     alias: {
       /*'@': path.resolve(__dirname, './src'),*/
-      '@':  process.cwd() + '/src'
+      '@':  process.cwd() + '/src',
+		'~bootstrap': path.resolve(__dirname, 'node_modules/bootstrap/dist/css/'),
+		'~bootstrap-icons': path.resolve(__dirname, 'node_modules/bootstrap-icons/'),
     },
   },
   /*resolve: {
-- 
2.41.0

